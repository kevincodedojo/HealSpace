<%- include('partials/header') %>
<%- include('partials/nav') %>

<main class="container">
    <div class="page-header">
        <h2>My Profile</h2>
    </div>
    
    <div class="profile-card">
        <form action="/my-profile" method="POST">
            <div class="form-row">
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" name="first_name" value="<%= profile.first_name %>" required>
                </div>
                
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" name="last_name" value="<%= profile.last_name %>" required>
                </div>
            </div>
            
            <div class="form-group">
                <label>Email</label>
                <input type="email" value="<%= profile.email %>" disabled>
                <small class="form-hint">Contact staff to change email</small>
            </div>
            
            <div class="form-group">
                <label>Birthday</label>
                <input type="date" name="birthday" value="<%= profile.birthday ? new Date(profile.birthday).toISOString().split('T')[0] : '' %>">
            </div>
            
            <div class="form-group">
                <label>Room Number</label>
                <input type="text" name="room_number" value="<%= profile.room_number || '' %>" placeholder="e.g., 302A">
            </div>
            
            <div class="form-group">
                <label>Phone</label>
                <input type="tel" name="phone" value="<%= profile.phone || '' %>" placeholder="555-123-4567">
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn-primary">Save Changes</button>
            </div>
        </form>
    </div>
    
    <div class="profile-section">
        <h3>Account Info</h3>
        <p><strong>Role:</strong> <%= profile.role %></p>
        <p><strong>Member since:</strong> <%= new Date(profile.created_at).toLocaleDateString() %></p>
    </div>
</main>

<%- include('partials/footer') %>